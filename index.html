<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odin Rock Paper Scissors</title>
</head>
<body>
    <script>
        
        function getComputerChoice () {

            // getting a random whole integer between 0 and 2 
            compChoice = Math.floor(Math.random() * 3);

            // substituting 0, 1, and 2 for rock, paper, and scissors
            if (compChoice === 0) {
                return "rock";
            } else if (compChoice ===1) {
                return "paper";
            } else {
                return "scissors";
            }
        }        

        function playRound() {

            // prompts the user for input and cleans it up
            playersChoice = prompt("So? rock, paper, or scissors?")
            playersChoice = playersChoice.trim().toLowerCase();

            // gets randpm computer input
            compChoice = getComputerChoice();

            // sufficient resolution messages for each game
            tieMessage = `Both choice ${playersChoice}, tie`
            winMessage = `Opponent chose ${compChoice}, only ${4 - playerScore} wins left!`
            loseMessage = `Opponent chose ${compChoice}, opponent needs to win ${4 - compScore} more.`

            // validation to ensure the user input is valid
            if (!['rock', 'paper', 'scissors'].includes(playersChoice)){
                console.log("Invalid choice, try again");
            } else {
                // if the user input is valid, return resolution message
                if (playersChoice == compChoice) {
                    console.log(tieMessage);
                } else if ((playersChoice == 'rock' && compChoice == 'scissors') || (playersChoice == 'scissors' && compChoice == 'paper') || (playersChoice == 'paper' && compChoice == 'rock')) {
                    ++playerScore
                    if (playerScore < 5) {
                    console.log(winMessage);
                    }
                } else {
                    compScore++;
                    if (compScore < 5) {
                        console.log(loseMessage);
                    }
                }
            }
        }
        
        function game() {
            playerScore = 0;
            compScore = 0;
            while (playerScore < 5 && compScore < 5) {
                playRound();
            }
            if (playerScore > compScore) {
                console.log("You won!");
            }
            else {
                console.log("You lost.");
            }
            
        }
    </script>
</body>
</html>